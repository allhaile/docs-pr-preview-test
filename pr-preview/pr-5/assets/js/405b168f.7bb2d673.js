"use strict";(self.webpackChunkdocs_test_pr_preview=self.webpackChunkdocs_test_pr_preview||[]).push([[9425],{1878:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"apitester","title":"API Method Tester","description":"","source":"@site/docs/apitester.md","sourceDirName":".","slug":"/apitester","permalink":"/docs-pr-preview-test/pr-preview/pr-5/docs/apitester","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/apitester.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Tutorial Intro","permalink":"/docs-pr-preview-test/pr-preview/pr-5/docs/intro"},"next":{"title":"Tutorial - Basics","permalink":"/docs-pr-preview-test/pr-preview/pr-5/docs/category/tutorial---basics"}}');var a=s(4848),n=s(8453),o=s(6540);const c=e=>{let{selectedMethod:t}=e;const[s,r]=(0,o.useState)(null),[n,c]=(0,o.useState)(null),[i,l]=(0,o.useState)([]),[d,p]=(0,o.useState)(t||""),[u,h]=(0,o.useState)({}),[m,j]=(0,o.useState)([]);(0,o.useEffect)((()=>{fetch("/methods/all-methods.json").then((e=>e.json())).then((e=>{if(!e||!Array.isArray(e))return void console.error("Invalid data format for all-methods.json",e);const t=e.map((e=>e.name));l(t),d&&t.includes(d)&&p(d)})).catch((e=>console.error("Failed to load methods:",e)))}),[d]),(0,o.useEffect)((()=>{d&&fetch(`/methods/${d}.json`).then((e=>e.json())).then((e=>{e&&e.args_strict?x(e):console.error("Invalid method JSON format:",e)})).catch((e=>console.error(`Failed to load ${d}.json`,e)))}),[d]);const x=e=>{const t=e.args_strict?.required||[],s=e.args_strict?.properties||{},r={};Object.keys(s).forEach((e=>{r[e]=""})),h(r),j(t)},f=e=>{const{name:t,value:s}=e.target;h((e=>({...e,[t]:s})))};return(0,a.jsxs)("div",{className:"api-tester-container",children:[(0,a.jsxs)("div",{className:"api-tester-left",children:[!t&&(0,a.jsx)("div",{style:{marginBottom:"10px"},children:(0,a.jsxs)("label",{children:["Select API Method:",(0,a.jsxs)("select",{value:d,onChange:e=>p(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"-- Select a Method --"}),i.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]})]})}),Object.entries(u).length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"argument-header",children:[(0,a.jsx)("h3",{style:{margin:0},children:"Arguments"}),(0,a.jsx)("span",{className:"info-icon","data-tooltip-id":"token-tooltip","data-tooltip-html":"<a href='https://api.slack.com/apps' target='_blank' rel='noopener noreferrer'>Create</a> + install your <a href='https://api.slack.com/apps' target='_blank' rel='noopener noreferrer'>Slack app</a> to get a token.","data-tooltip-place":"right",children:"\u2139\ufe0f"}),(0,a.jsx)(Tooltip,{id:"token-tooltip",clickable:!0,className:"custom-tooltip"})]}),Object.entries(u).map((e=>{let[t,s]=e;const r=Array.isArray(m)&&m.includes(t);return(0,a.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,a.jsxs)("div",{className:"argument-label",children:[(0,a.jsx)("span",{children:t}),r&&(0,a.jsx)("span",{className:"argument-required",children:"(required)"})]}),(0,a.jsx)("input",{type:"text",name:t,value:s,onChange:f,placeholder:`Enter ${t}`,className:"argument-input "+(r?"required":"")})]},t)}))]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,a.jsx)("button",{onClick:async()=>{if(!d)return r({success:!1,message:"Please select a method."}),void c(null);const e=Object.fromEntries(Object.entries(u).filter((e=>{let[t,s]=e;return""!==s&&null!=s}))),t={methodName:d,arguments:e};try{const e=await fetch("https://slack-api-tester-proxy-lite-af809da3cc80.herokuapp.com/proxy/slack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();c(s),r(s.ok?{success:!0,message:`Successful request to ${d}`}:{success:!1,message:s.error||"API request failed"})}catch(s){console.error("Network error:",s),r({success:!1,message:"Network error"}),c(null)}},className:"greenButton api-tester-button",children:"Test Method"}),(0,a.jsx)("button",{onClick:()=>{h((e=>{const t={};return Object.keys(e).forEach((e=>{t[e]=""})),t})),c(null),r(null)},className:"purpleButton api-tester-button",children:"Clear"})]}),s&&(0,a.jsx)("p",{style:{color:s.success?"green":"red",marginTop:"10px"},children:s.message})]}),(0,a.jsxs)("div",{className:"api-tester-right",children:[(0,a.jsx)("h3",{children:"API Response"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Selected Method:"})," ",(0,a.jsx)("code",{children:d||"None Selected"})]}),n&&(0,a.jsx)("pre",{className:"api-tester-response",children:JSON.stringify(n,null,5)})]})]})},i={sidebar_position:2},l="API Method Tester",d={},p=[];function u(e){const t={h1:"h1",header:"header",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"api-method-tester",children:"API Method Tester"})}),"\n",(0,a.jsx)(c,{})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var r=s(6540);const a={},n=r.createContext(a);function o(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);