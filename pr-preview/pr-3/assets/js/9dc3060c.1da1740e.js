"use strict";(self.webpackChunkdocs_test_pr_preview=self.webpackChunkdocs_test_pr_preview||[]).push([[5367],{520:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"api-tester","title":"API Method Tester","description":"Use this tool to test Slack\'s public API endpoints. Pick a method from the dropdown and try it out!","source":"@site/docs/api-tester.md","sourceDirName":".","slug":"/api-tester","permalink":"/docs-pr-preview-test/pr-preview/pr-3/docs/api-tester","draft":false,"unlisted":true,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api-tester.md","tags":[],"version":"current","frontMatter":{"slug":"/api-tester","unlisted":true},"sidebar":"tutorialSidebar"}');var a=s(4848),o=s(8453),n=s(6540),l=s(2503);const c=e=>{let{selectedMethod:t}=e;const[s,r]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[i,d]=(0,n.useState)([]),[p,h]=(0,n.useState)(t||""),[u,m]=(0,n.useState)({}),[j,g]=(0,n.useState)([]);(0,n.useEffect)((()=>{fetch("/methods/all-methods.json").then((e=>e.json())).then((e=>{if(!e||!Array.isArray(e))return void console.error("Invalid data format for all-methods.json",e);const t=e.map((e=>e.name));d(t),p&&t.includes(p)&&h(p)})).catch((e=>console.error("Failed to load methods:",e)))}),[p]),(0,n.useEffect)((()=>{p&&fetch(`/methods/${p}.json`).then((e=>e.json())).then((e=>{e&&e.args_strict?x(e):console.error("Invalid method JSON format:",e)})).catch((e=>console.error(`Failed to load ${p}.json`,e)))}),[p]);const x=e=>{const t=e.args_strict?.required||[],s=e.args_strict?.properties||{},r={};Object.keys(s).forEach((e=>{r[e]=""})),m(r),g(t)},f=e=>{const{name:t,value:s}=e.target;m((e=>({...e,[t]:s})))};return(0,a.jsxs)("div",{className:"api-tester-container",children:[(0,a.jsxs)("div",{className:"api-tester-left",children:[!t&&(0,a.jsx)("div",{style:{marginBottom:"10px"},children:(0,a.jsxs)("label",{children:["Select API Method:",(0,a.jsxs)("select",{value:p,onChange:e=>h(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"-- Select a Method --"}),i.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]})]})}),Object.entries(u).length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"argument-header",children:[(0,a.jsx)("h3",{style:{margin:0},children:"Arguments"}),(0,a.jsx)("span",{className:"info-icon","data-tooltip-id":"token-tooltip","data-tooltip-html":"<a href='https://api.slack.com/apps' target='_blank' rel='noopener noreferrer'>Create</a> + install your <a href='https://api.slack.com/apps' target='_blank' rel='noopener noreferrer'>Slack app</a> to get a token.","data-tooltip-place":"right",children:"\u2139\ufe0f"}),(0,a.jsx)(l.m_,{id:"token-tooltip",clickable:!0,className:"custom-tooltip"})]}),Object.entries(u).map((e=>{let[t,s]=e;const r=Array.isArray(j)&&j.includes(t);return(0,a.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,a.jsxs)("div",{className:"argument-label",children:[(0,a.jsx)("span",{children:t}),r&&(0,a.jsx)("span",{className:"argument-required",children:"(required)"})]}),(0,a.jsx)("input",{type:"text",name:t,value:s,onChange:f,placeholder:`Enter ${t}`,className:"argument-input "+(r?"required":"")})]},t)}))]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,a.jsx)("button",{onClick:async()=>{if(!p)return r({success:!1,message:"Please select a method."}),void c(null);const e=Object.fromEntries(Object.entries(u).filter((e=>{let[t,s]=e;return""!==s&&null!=s}))),t={methodName:p,arguments:e};try{const e=await fetch("https://slack-api-tester-proxy-lite-af809da3cc80.herokuapp.com/proxy/slack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();c(s),r(s.ok?{success:!0,message:`Successful request to ${p}`}:{success:!1,message:s.error||"API request failed"})}catch(s){console.error("Network error:",s),r({success:!1,message:"Network error"}),c(null)}},className:"greenButton api-tester-button",children:"Test Method"}),(0,a.jsx)("button",{onClick:()=>{m((e=>{const t={};return Object.keys(e).forEach((e=>{t[e]=""})),t})),c(null),r(null)},className:"purpleButton api-tester-button",children:"Clear"})]}),s&&(0,a.jsx)("p",{style:{color:s.success?"green":"red",marginTop:"10px"},children:s.message})]}),(0,a.jsxs)("div",{className:"api-tester-right",children:[(0,a.jsx)("h3",{children:"API Response"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Selected Method:"})," ",(0,a.jsx)("code",{children:p||"None Selected"})]}),o&&(0,a.jsx)("pre",{className:"api-tester-response",children:JSON.stringify(o,null,5)})]})]})},i={slug:"/api-tester",unlisted:!0},d="API Method Tester",p={},h=[];function u(e){const t={h1:"h1",header:"header",p:"p",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"api-method-tester",children:"API Method Tester"})}),"\n",(0,a.jsx)(t.p,{children:"Use this tool to test Slack's public API endpoints. Pick a method from the dropdown and try it out!"}),"\n",(0,a.jsx)(c,{})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);